import{_ as g,i as y,r as b,u as x,o as v,a as k,b as i,c as a,d as e,e as w,w as V,j as d,v as p,k as N,F as C,f as M,t as _,l as P,h as S}from"./index-6u56en5u.js";import{a as f}from"./axios-L6U4YIEh.js";const q={setup(){const r=y({employee_name:"",email:"",position_id:""}),s=b([]),n=x(),o=b([]);async function c(){try{const l=await f.get("http://localhost:3000/api/positions");o.value=l.data.data}catch(l){console.error("Error fetching positions:",l)}}function m(){const{employee_name:l,email:t,position_id:u}=r;if(u==""){s.value=["Position is required"];return}f.post("http://localhost:3000/api/employees/store",{employee_name:l,email:t,position_id:u}).then(()=>{n.push({name:"employees.index"})}).catch(h=>{s.value=h.response.data})}return v(c),{employee:r,positions:o,validation:s,router:n,store:m}}},B={class:"w-full h-screen px-10 py-5 bg-gray-100"},E={class:"flex mb-20"},U=e("i",{class:"text-4xl text-black me-5 material-icons"},"arrow_back",-1),D=e("p",{class:"text-3xl font-bold"},"Tambah Pegawai",-1),F={class:"mb-5"},T=e("label",{for:"name",class:"block mb-2 font-medium text-gray-900"},"Nama",-1),j={class:"mb-5"},L=e("label",{for:"email",class:"block mb-2 font-medium text-gray-900"},"Email",-1),R={class:"mb-5"},z=e("label",{for:"positions",class:"block mb-2 font-medium text-gray-900"},"Posisi",-1),A=e("option",{value:""},"-",-1),G=["value"],H=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Submit ",-1),I={key:0,class:"flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50",role:"alert"},J=e("i",{class:"material-icons me-2"},"info",-1),K={class:"font-medium"};function O(r,s,n,o,c,m){const l=k("router-link");return i(),a("div",B,[e("div",E,[w(l,{to:{name:"employees.index"}},{default:V(()=>[U]),_:1},8,["to"]),D]),e("form",{class:"max-w-sm mx-auto",onSubmit:s[3]||(s[3]=S((...t)=>o.store&&o.store(...t),["prevent"]))},[e("div",F,[T,d(e("input",{type:"text",id:"name",class:"bg-white border border-black text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"Nama",required:"","onUpdate:modelValue":s[0]||(s[0]=t=>o.employee.employee_name=t)},null,512),[[p,o.employee.employee_name]])]),e("div",j,[L,d(e("input",{type:"email",id:"email",class:"bg-white border border-black text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"abc@email.com",required:"","onUpdate:modelValue":s[1]||(s[1]=t=>o.employee.email=t)},null,512),[[p,o.employee.email]])]),e("div",R,[z,d(e("select",{id:"positions",class:"bg-white border border-black text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5","onUpdate:modelValue":s[2]||(s[2]=t=>o.employee.position_id=t)},[A,(i(!0),a(C,null,M(o.positions,t=>(i(),a("option",{key:t.position_id,value:t.position_id},_(t.position_name),9,G))),128))],512),[[N,o.employee.position_id]])]),H,o.validation.length>0?(i(),a("div",I,[J,e("div",null,[e("span",K,_(o.validation[0]),1)])])):P("",!0)],32)])}const X=g(q,[["render",O]]);export{X as default};
