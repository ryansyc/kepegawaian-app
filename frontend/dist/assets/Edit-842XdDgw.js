import{_ as x,i as v,r as _,u as k,m as w,o as V,a as E,b as l,c as n,d as e,e as N,w as M,j as c,v as f,k as P,F as S,f as U,t as h,l as q,h as B}from"./index-6u56en5u.js";import{a as p}from"./axios-L6U4YIEh.js";const C={setup(){const i=v({employee_name:"",email:"",position_id:""}),a=_([]),r=k(),o=w(),d=_([]);async function u(){try{const s=await p.get("http://localhost:3000/api/positions");d.value=s.data.data}catch(s){console.error("Error fetching positions:",s)}}function m(){p.get(`http://localhost:3000/api/employees/${o.params.id}`).then(s=>{i.employee_name=s.data.data.employee_name,i.email=s.data.data.email,i.position_id=s.data.data.position_id}).catch(s=>{console.log(s.response.data)})}V(()=>{u(),m()});function t(){const{employee_name:s,email:y,position_id:b}=i;if(b==""){a.value=["Position is required"];return}p.patch(`http://localhost:3000/api/employees/update/${o.params.id}`,{employee_name:s,email:y,position_id:b}).then(()=>{r.push({name:"employees.index"})}).catch(g=>{a.value=g.response.data})}return{employee:i,positions:d,validation:a,router:r,update:t}}},D={class:"w-full h-screen px-10 py-5 bg-gray-100"},F={class:"flex mb-20"},R=e("i",{class:"text-4xl text-black me-5 material-icons"},"arrow_back",-1),j=e("p",{class:"text-3xl font-bold"},"Update Pegawai",-1),L={class:"mb-5"},T=e("label",{for:"name",class:"block mb-2 font-medium text-gray-900"},"Nama",-1),z={class:"mb-5"},A=e("label",{for:"email",class:"block mb-2 font-medium text-gray-900"},"Email",-1),G={class:"mb-5"},H=e("label",{for:"positions",class:"block mb-2 font-medium text-gray-900"},"Posisi",-1),I=e("option",{value:""},"-",-1),J=["value"],K=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 font-medium rounded-lg w-full sm:w-auto px-5 py-2.5 text-center mb-5"}," Submit ",-1),O={key:0,class:"flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50",role:"alert"},Q=e("i",{class:"material-icons me-2"},"info",-1),W={class:"font-medium"};function X(i,a,r,o,d,u){const m=E("router-link");return l(),n("div",D,[e("div",F,[N(m,{to:{name:"employees.index"}},{default:M(()=>[R]),_:1},8,["to"]),j]),e("form",{class:"max-w-sm mx-auto",onSubmit:a[3]||(a[3]=B((...t)=>o.update&&o.update(...t),["prevent"]))},[e("div",L,[T,c(e("input",{type:"text",id:"name",class:"bg-white border border-black text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"Nama",required:"","onUpdate:modelValue":a[0]||(a[0]=t=>o.employee.employee_name=t)},null,512),[[f,o.employee.employee_name]])]),e("div",z,[A,c(e("input",{type:"email",id:"email",class:"bg-white border border-black text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"abc@email.com",required:"","onUpdate:modelValue":a[1]||(a[1]=t=>o.employee.email=t)},null,512),[[f,o.employee.email]])]),e("div",G,[H,c(e("select",{id:"positions",class:"bg-white border border-black text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5","onUpdate:modelValue":a[2]||(a[2]=t=>o.employee.position_id=t)},[I,(l(!0),n(S,null,U(o.positions,t=>(l(),n("option",{key:t.position_id,value:t.position_id},h(t.position_name),9,J))),128))],512),[[P,o.employee.position_id]])]),K,o.validation.length>0?(l(),n("div",O,[Q,e("div",null,[e("span",W,h(o.validation[0]),1)])])):q("",!0)],32)])}const $=x(C,[["render",X]]);export{$ as default};
