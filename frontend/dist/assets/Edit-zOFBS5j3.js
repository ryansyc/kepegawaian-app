import{_ as g,i as x,r as u,u as y,m as v,o as k,a as w,b as p,c as m,d as o,e as N,w as V,j as b,v as _,t as E,l as j,h as B}from"./index-6u56en5u.js";import{a as d}from"./axios-L6U4YIEh.js";const C={setup(){const i=x({position_name:"",salary:""}),s=u([]),n=y(),t=v(),r=u([]);async function c(){try{const e=await d.get("http://localhost:3000/api/positions");r.value=e.data}catch(e){console.error("Error fetching positions:",e)}}function l(){d.get(`http://localhost:3000/api/positions/${t.params.id}`).then(e=>{i.position_name=e.data.data.position_name,i.salary=e.data.data.salary}).catch(e=>{console.log(e.response.data)})}k(()=>{c(),l()});function a(){const{position_name:e,salary:f}=i;d.patch(`http://localhost:3000/api/positions/update/${t.params.id}`,{position_name:e,salary:f}).then(()=>{n.push({name:"positions.index"})}).catch(h=>{s.value=h.response.data})}return{position:i,positions:r,validation:s,router:n,update:a}}},M={class:"w-full h-screen px-10 py-5 bg-gray-100"},P={class:"flex mb-20"},S=o("i",{class:"text-4xl text-black me-5 material-icons"},"arrow_back",-1),U=o("p",{class:"text-3xl font-bold"},"Update Posisi",-1),q={class:"mb-5"},D=o("label",{for:"position_name",class:"block mb-2 font-medium text-gray-900"},"Nama Posisi",-1),G={class:"mb-5"},R=o("label",{for:"salary",class:"block mb-2 font-medium text-gray-900"},"Gaji",-1),T=o("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Submit ",-1),z={key:0,class:"flex items-center p-4 mb-4 text-sm text-red-800 border border-red-300 rounded-lg bg-red-50",role:"alert"},A=o("i",{class:"material-icons me-2"},"info",-1),F={class:"font-medium"};function H(i,s,n,t,r,c){const l=w("router-link");return p(),m("div",M,[o("div",P,[N(l,{to:{name:"positions.index"}},{default:V(()=>[S]),_:1},8,["to"]),U]),o("form",{class:"max-w-sm mx-auto",onSubmit:s[2]||(s[2]=B((...a)=>t.update&&t.update(...a),["prevent"]))},[o("div",q,[D,b(o("input",{type:"text",id:"position_name",class:"bg-white border border-black text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"Nama",required:"","onUpdate:modelValue":s[0]||(s[0]=a=>t.position.position_name=a)},null,512),[[_,t.position.position_name]])]),o("div",G,[R,b(o("input",{type:"text",id:"salary",class:"bg-white border border-black text-gray-900 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"Gaji",required:"","onUpdate:modelValue":s[1]||(s[1]=a=>t.position.salary=a)},null,512),[[_,t.position.salary]])]),T,t.validation.length>0?(p(),m("div",z,[A,o("div",null,[o("span",F,E(t.validation[0]),1)])])):j("",!0)],32)])}const K=g(C,[["render",H]]);export{K as default};
